<div class="split-form">
    <h1>Split Purchase</h1>
    <form #splitReceiptForm="ngForm" (ngSubmit)="onSubmit()">
      <button>Split</button>
        <div class="form-group">
          <md-input-container>
            <input mdInput 
              placeholder="Store Name" 
              [formControl]="myControl" 
              type="text" 
              required
              class="form-control" 
              id="storename" 
              name="storename"
              [(ngModel)]="model.storeName"
              [mdAutocomplete]="auto">
          </md-input-container>
          <md-autocomplete #auto="mdAutocomplete">
              <md-option *ngFor="let store of filteredStores | async" [value]="store">
                 {{ store }}
              </md-option>
           </md-autocomplete>
        </div>
        <div class="form-group">
          <md-input-container>
            <input mdInput 
              placeholder="Total Cost" 
              class="form-control"
              name="cost" 
              id="cost" 
              type="number" 
              step="0.01"
              required
              [(ngModel)]="model.totalCost">
          </md-input-container>
        </div>
  
        <div class="form-group">
            <md-input-container>
              <input mdInput 
                id="date" 
                required 
                placeholder="Date" 
                class="form-control" 
                name="date" 
                [(ngModel)]="model.date"
                #date="ngModel"
                type="date">
            </md-input-container>
        </div>

        <h2>Items</h2>
        <button>Add</button>

        <div *ngFor="let item of model.items">
          <div class="form-group">
            <md-input-container>
              <input mdInput 
                placeholder="Cost" 
                class="form-control"
                name="cost" 
                id="cost" 
                type="number" 
                step="0.01"
                required
                [(ngModel)]="item.cost">
            </md-input-container>
          </div>
          <div class="form-group">
            <md-select required 
              [(ngModel)]="item.billType" 
              placeholder="Bill Types" 
              name="billType" 
              #billType="ngModel">
                <md-option *ngFor="let billType of billTypes | async" [value]="billType">
                  {{ billType.name }}
                </md-option>
            </md-select>
          </div>
          <div class="form-group">
            <md-input-container>
                <input mdInput id="notes" type="text" [(ngModel)]="item.notes" name="note">
            </md-input-container>
          </div>
          <button>Delete</button>
        </div>

        <button type="submit" class="btn btn-success" [disabled]="!splitReceiptForm.form.valid">Submit</button>
      </form>
  </div>
  